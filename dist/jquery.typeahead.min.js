/*!
 * jQuery Typeahead
 * Copyright (C) 2015 RunningCoder.org
 * Licensed under the MIT license
 *
 * @author Tom Bertrand
 * @version 2.0.0 (2015-04-21)
 * @link http://www.runningcoder.org/jquerytypeahead/
*/
!function(a,b,c,d){a.Typeahead={};var e={input:null,minLength:2,maxItem:8,dynamic:!1,delay:300,order:null,offset:!1,hint:!1,accent:!1,highlight:!0,group:!1,maxItemPerGroup:null,dropdownFilter:!1,dynamicFilter:null,backdrop:!1,cache:!1,ttl:36e5,compression:!1,suggestion:!1,searchOnFocus:!1,selector:{container:"typeahead-container",group:"typeahead-group",result:"typeahead-result",list:"typeahead-list",display:"typeahead-display",query:"typeahead-query",filter:"typeahead-filter",filterButton:"typeahead-filter-button",filterValue:"typeahead-filter-value",dropdown:"typeahead-dropdown",button:"typeahead-button",backdrop:"typeahead-backdrop",hint:"typeahead-hint"},display:["display"],template:null,emptyTemplate:!1,source:null,callback:{onInit:null,onSearch:null,onResult:null,onNavigate:null,onMouseEnter:null,onMouseLeave:null,onClick:null,onSubmit:null},debug:!1},f=".typeahead",g={from:"ãàáäâẽèéëêìíïîõòóöôùúüûñç",to:"aaaaaeeeeeiiiiooooouuuunc"},h=function(a,b){this.rawQuery="",this.query="",this.source={},this.isGenerated=null,this.generatedGroupCount=0,this.groupCount=0,this.result=[],this.resultCount=0,this.options=b,this.node=a,this.container=null,this.resultContainer=null,this.item=null,this.dropdownFilter=null,this.xhr={},this.hintIndex=null,this.filters={},this.backdrop={},this.hint={},this.__construct()};h.prototype={extendOptions:function(){this.options.dynamic&&(this.options.cache=!1,this.options.compression=!1),this.options.cache&&(this.options.cache=function(){var b="undefined"!=typeof a.localStorage;if(b)try{a.localStorage.setItem("typeahead","typeahead"),a.localStorage.removeItem("typeahead")}catch(c){b=!1}return b}()),this.options.compression&&("object"==typeof LZString&&this.options.cache||(j.log({node:this.node.selector,"function":"extendOptions()",message:"Missing LZString Library or options.cache, no compression will occur."}),j.print(),this.options.compression=!1)),/^\d+$/.test(this.options.maxItemPerGroup)||(this.options.maxItemPerGroup=null),!this.options.display||this.options.display instanceof Array||(this.options.display=[this.options.display]),!this.options.group||this.options.group instanceof Array||(this.options.group=[this.options.group]),this.options=c.extend(!0,{},e,this.options)},unifySourceFormat:function(){if(this.options.source instanceof Array)return this.options.source={group:{data:this.options.source}},this.groupCount+=1,!0;("undefined"!=typeof this.options.source.data||"undefined"!=typeof this.options.source.url)&&(this.options.source={group:this.options.source});for(var a in this.options.source)if(this.options.source.hasOwnProperty(a)){if(!this.options.source[a].data&&!this.options.source[a].url)return j.log({node:this.node.selector,"function":"unifySourceFormat()",arguments:JSON.stringify(this.options.source),message:'Undefined "options.source.'+a+'.[data|url]" is Missing - Typeahead dropped'}),j.print(),!1;!this.options.source[a].display||this.options.source[a].display instanceof Array||(this.options.source[a].display=[this.options.source[a].display]),this.options.source[a].ignore&&(this.options.source[a].ignore instanceof RegExp||(j.log({node:this.node.selector,"function":"unifySourceFormat()",arguments:JSON.stringify(this.options.source[a].ignore),message:"Invalid ignore RegExp."}),j.print(),delete this.options.source[a].ignore)),this.groupCount+=1}return!0},init:function(){this.helper.executeCallback(this.options.callback.onInit,[this.node]),this.container=this.node.closest("."+this.options.selector.container),j.log({node:this.node.selector,"function":"init()",arguments:JSON.stringify(this.options),message:"OK - Typeahead activated on "+this.node.selector}),j.print()},delegateEvents:function(){var a=this,b=["focus"+f,"input"+f,"propertychange"+f,"keydown"+f,"dynamic"+f];this.container.on("click"+f,function(b){b.stopPropagation(),a.options.dropdownFilter&&a.container.find("."+a.options.selector.dropdown.replace(" ",".")).hide()}),this.node.closest("form").on("submit",function(b){return a.hideLayout(),a.helper.executeCallback(a.options.callback.onSubmit,[a.node,a,a.item,b])?!1:void 0}),this.node.off(f).on(b.join(" "),function(b){switch(b.type){case"focus":a.isGenerated&&a.options.searchOnFocus&&a.query.length>=a.options.minLength&&a.showLayout(),null!==a.isGenerated||a.options.dynamic||a.generateSource();break;case"keydown":a.isGenerated&&a.result.length&&b.keyCode&&~[13,27,38,39,40].indexOf(b.keyCode)&&a.navigate(b);break;case"propertychange":case"input":if(a.rawQuery=a.node[0].value,a.query=a.node[0].value.replace(/^\s+/,""),!a.query,a.options.dynamic)return a.isGenerated=null,void a.helper.typeWatch(function(){a.query.length>=a.options.minLength&&a.generateSource()},a.options.delay);case"dynamic":if(!a.isGenerated)break;if(a.query.length<a.options.minLength){a.hideLayout();break}a.searchResult(),a.buildLayout(),a.result.length>0||a.options.emptyTemplate?a.showLayout():a.hideLayout()}})},generateSource:function(){if(!this.isGenerated||this.options.dynamic){if(this.generatedGroupCount=0,this.isGenerated=!1,!this.helper.isEmpty(this.xhr)){for(var b in this.xhr)this.xhr.hasOwnProperty(b)&&this.xhr[b].abort();this.xhr={}}var d,e;for(d in this.options.source)if(this.options.source.hasOwnProperty(d))if(this.options.cache&&(e=a.localStorage.getItem(this.node.selector+":"+d),e&&(this.options.compression&&(e=LZString.decompressFromUTF16(e)),e=JSON.parse(e+""),e.data&&e.ttl>(new Date).getTime())))this.populateSource(e.data,d);else if(!this.options.source[d].data||this.options.source[d].url){if(this.options.source[d].url){var f={url:null,path:null,dataType:"json",group:d,scope:this,callback:{onDone:null,onFail:null,onComplete:null}};if(this.options.source[d].url instanceof Array?(this.options.source[d].url[0]instanceof Object?(f=c.extend(!0,f,this.options.source[d].url[0]),this.options.dynamic||"jsonp"==f.dataType||(j.log({node:this.node.selector,"function":"generateSource()",message:"WARNING - You are doing Ajax request without options.dynamic set to true!"}),j.print())):"string"==typeof this.options.source[d].url[0]&&(f.url=this.options.source[d].url[0]),this.options.source[d].url[1]&&(f.path=this.options.source[d].url[1])):this.options.source[d].url instanceof Object?(f=c.extend(!0,f,this.options.source[d].url),this.options.dynamic||"jsonp"==f.dataType||(j.log({node:this.node.selector,"function":"generateSource()",message:"WARNING - You are doing Ajax request without options.dynamic set to true!"}),j.print())):"string"==typeof this.options.source[d].url&&(f.url=this.options.source[d].url),f.data)for(var b in f.data)f.data.hasOwnProperty(b)&&~f.data[b].indexOf("{{query}}")&&(f.data[b]=f.data[b].replace("{{query}}",this.query));"jsonp"===f.dataType.toLowerCase()&&(f.jsonpCallback="callback_"+d),this.xhr[d]=c.ajax(f).done(function(a){this.callback.onDone instanceof Function&&this.callback.onDone(a),this.scope.populateSource(a,this.group,this.path)}).fail(function(a,b,c){this.callback.onFail instanceof Function&&this.callback.onFail(),j.log({node:this.scope.node.selector,"function":"generateSource()",arguments:f.url,message:"Ajax request failed."}),j.print()}).complete(function(){this.callback.onComplete instanceof Function&&this.callback.onComplete()})}}else this.populateSource(this.options.source[d].data,d)}},populateSource:function(a,b,c){var d=!0;if("string"==typeof c)for(var e=c.split("."),f=0;f<e.length;){if("undefined"==typeof a){d=!1;break}a=a[e[f++]]}if(!(a instanceof Array))return j.log({node:this.node.selector,"function":"populateSource()",arguments:JSON.stringify({group:b}),message:"Invalid data type, must be Array type."}),j.print(),!1;if(d){this.options.source[b].data&&this.options.source[b].url&&(a=a.concat(this.options.source[b].data));var g,h;h=this.options.source[b].display?this.options.source[b].display[0]:this.options.display[0];for(var i=0;i<a.length;i++)"string"==typeof a[i]&&(g={},g[h]=a[i],a[i]=g);if(this.source[b]=a,this.options.cache){var k=JSON.stringify({data:a,ttl:(new Date).getTime()+this.options.ttl});this.options.compression&&(k=LZString.compressToUTF16(k)),localStorage.setItem(this.node.selector+":"+b,k)}this.incrementGeneratedGroup()}else j.log({node:this.node.selector,"function":"populateSource()",arguments:JSON.stringify(c),message:"Invalid path."}),j.print()},incrementGeneratedGroup:function(){this.generatedGroupCount+=1,this.groupCount===this.generatedGroupCount&&(this.isGenerated=!0,this.node.trigger("dynamic"+f))},navigate:function(a){this.helper.executeCallback(this.options.callback.onNavigate,[this.node,this.query,a]);var b=this.container.find("."+this.options.selector.result).find("> ul > li:not([data-search-group])"),c=b.filter(".active"),d=c[0]&&b.index(c)||null;if(27===a.keyCode)return a.preventDefault(),void this.hideLayout();if(13===a.keyCode)return c.length>0?(a.preventDefault(),a.stopPropagation(),void c.find("a:first").trigger("click")):void this.hideLayout();if(39===a.keyCode)return void(d?b.eq(d).find("a:first").trigger("click"):this.options.hint&&""!==this.hint.container.val()&&this.helper.getCaret(this.node[0])>=this.query.length&&b.find('a[data-index="'+this.hintIndex+'"]').trigger("click"));if(b.length>0&&c.removeClass("active"),38===a.keyCode?(a.preventDefault(),c.length>0?d-1>=0&&b.eq(d-1).addClass("active"):b.last().addClass("active")):40===a.keyCode&&(a.preventDefault(),c.length>0?d+1<b.length&&b.eq(d+1).addClass("active"):b.first().addClass("active")),c=b.filter(".active"),this.options.hint&&(c.length>0?this.hint.container.css("color","transparent"):this.hint.container.css("color",this.hint.css.color)),c.length>0){var e=c.find("a:first").attr("data-index");e&&this.node.val(this.result[e][this.result[e].matchedKey])}else this.node.val(this.rawQuery)},searchResult:function(){this.helper.executeCallback(this.options.callback.onSearch,[this.node,this.query]),this.result=[],this.resultCount=0,this.item=null;var a,b,c,d,e,f,g=this,h=this.query,i={};this.options.accent&&(h=this.helper.removeAccent(h));for(a in this.source)if(this.source.hasOwnProperty(a)&&(!this.dropdownFilter||a===this.dropdownFilter)){e=0;for(b in this.source[a])if(this.source[a].hasOwnProperty(b)){if(this.result.length>=this.options.maxItem)break;if(this.options.maxItemPerGroup&&e>=this.options.maxItemPerGroup)break;f=this.options.source[a].display||this.options.display;for(var k=0;k<f.length;k++)if(d=this.source[a][b][f[k]]){if(d=d.toString(),this.options.accent&&(d=this.helper.removeAccent(d)),c=d.toLowerCase().indexOf(h.toLowerCase())+1,c&&!(c&&this.options.offset&&1!==c||this.options.source[a].ignore&&this.options.source[a].ignore.test(d)||(this.source[a][b].group=a,this.source[a][b].matchedKey=f[k],this.filters.dropdown&&"*"!==this.filters.dropdown.value&&this.filters.dropdown.value!=this.source[a][b][this.filters.dropdown.key]))){this.result.push(this.source[a][b]),this.resultCount+=1,e+=1;break}}else i[k]={display:f[k],data:this.source[a][b]}}}if(this.helper.isEmpty(i)||(j.log({node:this.node.selector,"function":"searchResult()",arguments:JSON.stringify(i),message:"Missing keys for display, make sure options.display is set properly."}),j.print()),this.options.order){for(var l,f=[],k=0;k<this.result.length;k++)l=this.options.source[this.result[k].group].display||this.options.display,~f.indexOf(l[0])||f.push(l[0]);this.result.sort(g.helper.sort(f,"asc"===g.options.order,function(a){return a.toString().toUpperCase()}))}this.helper.executeCallback(this.options.callback.onResult,[this.node,this.query,this.result,this.resultCount])},buildLayout:function(){this.resultContainer||(this.resultContainer=c("<div/>",{"class":this.options.selector.result}),this.container.append(this.resultContainer));var a=this.query.toLowerCase();this.options.accent&&(a=this.helper.removeAccent(a));var b=this,d=c("<ul/>",{"class":this.options.selector.list,html:function(){if(b.options.emptyTemplate&&b.helper.isEmpty(b.result))return c("<li/>",{html:c("<a/>",{href:"javascript:;",html:b.options.emptyTemplate.replace(/\{\{query\}\}/gi,b.query)})});for(var d in b.result)b.result.hasOwnProperty(d)&&!function(d,e,f){var g,h,i,k,l,m,n={},o=b.options.source[e.group].display||b.options.display;b.options.group&&(g=e.group,"boolean"!=typeof b.options.group[0]&&e[b.options.group[0]]&&(g=e[b.options.group[0]]),c(f).find('li[data-search-group="'+g+'"]')[0]||c(f).append(c("<li/>",{"class":b.options.selector.group,html:c("<a/>",{href:"javascript:;",html:b.options.group[1]&&b.options.group[1].replace(/(\{\{group\}\})/gi,e[b.options.group[0]]||g)||g}),"data-search-group":g})));for(var p=0;p<o.length;p++)k=o[p],n[k]=e[k],b.options.highlight&&(n[k]?n[k]=b.helper.highlight(n[k],a,b.options.accent):(j.log({node:b.node.selector,"function":"buildLayout()",arguments:JSON.stringify(e),message:'WARNING - Missing display key: "'+k+'"'}),j.print()));h=c("<li/>",{html:c("<a/>",{href:"#","data-group":g,"data-index":d,html:function(){m=e.group&&b.options.source[e.group].template||b.options.template,i=m?m.replace(/\{\{([a-z0-9_\-]+)\}\}/gi,function(a,b){return n[b]||e[b]||a}):'<span class="'+b.options.selector.display+'">'+b.helper.joinObject(n," ")+"</span>",c(this).append(i)},click:function(c){if(b.helper.executeCallback(b.options.callback.onClick,[b.node,this,e,c]),!c.isDefaultPrevented()){c.preventDefault();var d,f="";for(var g in n)if(n.hasOwnProperty(g)&&(f=n[g],b.options.highlight&&(f=f.replace(/<\/?strong>/gi,"")),b.options.accent&&(f=b.helper.removeAccent(f)),~f.indexOf(a))){d=g;break}b.query=e[d],b.node.val(b.query).focus(),b.selectedItem=e,b.searchResult(),b.buildLayout(),b.hideLayout()}},mouseenter:function(a){c(this).closest("ul").find("li.active").removeClass("active"),c(this).closest("li").addClass("active"),b.helper.executeCallback(b.options.callback.onMouseEnter,[b.node,this,e,a])},mouseleave:function(a){c(this).closest("li").removeClass("active"),b.helper.executeCallback(b.options.callback.onMouseLeave,[b.node,this,e,a])}})}),b.options.group?(l=c(f).find('a[data-group="'+g+'"]:last').closest("li"),l[0]||(l=c(f).find('li[data-search-group="'+g+'"]')),c(h).insertAfter(l)):c(f).append(h)}(d,b.result[d],this)}});if(this.container.addClass("result").find(this.resultContainer).html(d),this.options.backdrop&&(this.backdrop.container?this.backdrop.container.show():(this.backdrop.css=c.extend({opacity:.6,filter:"alpha(opacity=60)",position:"fixed",top:0,right:0,bottom:0,left:0,"z-index":1040,"background-color":"#000"},this.options.backdrop),this.backdrop.container=c("<div/>",{"class":this.options.selector.backdrop,css:this.backdrop.css,click:function(){b.hideLayout()}}).insertAfter(this.container)),this.container.addClass("backdrop").css({"z-index":this.backdrop.css["z-index"]+1,position:"relative"})),this.options.hint){var e="";if(this.result.length>0&&this.query.length>0){this.hint.container||(this.hint.css=c.extend({"border-color":"transparent",position:"absolute",display:"inline","z-index":1,"float":"none",color:"silver","user-select":"none","box-shadow":"none"},this.options.hint),this.hint.container=this.node.clone(!1).attr({"class":this.options.selector.hint+" "+this.node.attr("class"),readonly:!0,tabindex:-1}).removeAttr("id placeholder name autofocus autocomplete alt").css(this.hint.css),this.helper.removeDataAttributes(this.hint.container),this.hint.container.insertBefore(this.node),this.node.css({position:"relative","z-index":2,"background-color":"transparent"}).parent().css({position:"relative"}));var f,g,h;this.hintIndex=null;for(var i=0;i<this.result.length;i++){g=this.result[i].group,f=b.options.source[g].display||b.options.display;for(var k=0;k<f.length;k++)if(h=String(this.result[i][f[k]]).toLowerCase(),this.options.accent&&(h=this.helper.removeAccent(h)),0===h.indexOf(a)){e=String(this.result[i][f[k]]),this.hintIndex=i;break}if(null!==this.hintIndex)break}}this.hint.container&&this.hint.container.val(e.length>0&&this.rawQuery+e.substring(this.query.length)||"").show()}},buildDropdownLayout:function(){function a(a){this.filters.dropdown=a,this.container.find("."+this.options.selector.filterValue).html(a.display||a.value),this.container.find("."+this.options.selector.dropdown.replace(" ",".")).hide(),this.node.trigger("dynamic"+f),this.node.focus()}if(this.options.dropdownFilter){var b=this;c("<span/>",{"class":this.options.selector.filter,html:function(){c(this).append(c("<button/>",{type:"button","class":b.options.selector.filterButton,html:"<span class='"+b.options.selector.filterValue+"'>all</span> <span class='caret'></span>",click:function(a){a.stopPropagation();var c=b.container.find("."+b.options.selector.dropdown.replace(" ","."));c.is(":visible")?(b.container.removeClass("filter"),c.hide()):(b.container.addClass("filter"),c.show())}})),c(this).append(c("<ul/>",{"class":b.options.selector.dropdown,html:function(){var d=b.options.dropdownFilter;if(~["string","boolean"].indexOf(typeof b.options.dropdownFilter)){d=[];for(var e in b.options.source)b.options.source.hasOwnProperty(e)&&d.push({key:"group",value:e});d.push({key:"group",value:"*",display:"string"==typeof b.options.dropdownFilter&&b.options.dropdownFilter||"All"})}for(var f=0;f<d.length;f++)!function(d,e,f){return!e.key&&"*"!==e.value||!e.value?(j.log({node:b.node.selector,"function":"buildDropdownLayout()",arguments:JSON.stringify(e),message:'WARNING - Missing key or value, skipping dropdown filter."'}),void j.print()):("*"===e.value&&c(f).append(c("<li/>",{"class":"divider"})),void c(f).append(c("<li/>",{html:c("<a/>",{href:"javascript:;",html:e.display||e.value,click:function(c){c.preventDefault(),a.apply(b,[e])}})})))}(f,d[f],this)}}))}}).insertAfter(b.container.find("."+b.options.selector.query))}},showLayout:function(){var a=this;c("html").off(f).on("click"+f,function(){a.hideLayout(),c(this).off(f)}),this.options.hint&&(this.container.addClass("hint"),this.hint.container&&this.hint.container.show()),this.options.backdrop&&(this.container.addClass("backdrop"),this.backdrop.container&&this.backdrop.container.show()),this.container.addClass("result").find(this.resultContainer).show()},hideLayout:function(){this.options.filter&&this.container.removeClass("filter").find("."+this.options.selector.dropdown.replace(" ",".")).hide(),this.options.hint&&(this.container.removeClass("hint"),this.hint.container&&this.hint.container.hide()),this.options.backdrop&&(this.container.removeClass("backdrop"),this.backdrop.container&&this.backdrop.container.hide()),this.container.removeClass("result").find(this.resultContainer).hide()},__construct:function(){this.extendOptions(),this.unifySourceFormat()&&(this.init(),this.delegateEvents(),this.buildDropdownLayout())},helper:{isEmpty:function(a){for(var b in a)if(a.hasOwnProperty(b))return!1;return!0},removeAccent:function(a){if("string"==typeof a){if(a=a.toLowerCase(),new RegExp(g.from).test(a))for(var b=0,c=g.from.length;c>b;b++)a=a.replace(new RegExp(g.from.charAt(b),"gi"),g.to.charAt(b));return a}},sort:function(a,b,c){var d=function(b){for(var d=0;d<a.length;d++)if("undefined"!=typeof b[a[d]])return c(b[a[d]])};return b=[-1,1][+!!b],function(a,c){return a=d(a),c=d(c),b*((a>c)-(c>a))}},replaceAt:function(a,b,c,d){return a.substring(0,b)+d+a.substring(b+c)},highlight:function(a,b,c){a=String(a);var d=a.toLowerCase().indexOf(b.toLowerCase());return c&&(d=this.removeAccent(a).indexOf(this.removeAccent(b))),-1===d||0===b.length?a:this.replaceAt(a,d,b.length,"<strong>"+a.substr(d,b.length)+"</strong>")},joinObject:function(a,b){var c="",d=0;for(var e in a)a.hasOwnProperty(e)&&(0!==d&&(c+=b),c+=a[e],d++);return c},removeDataAttributes:function(a){var b,c=[],d=a.get(0).attributes;for(b=0;b<d.length;b++)"data-"===d[b].name.substring(0,5)&&c.push(d[b].name);for(b=0;b<c.length;b++)a.removeAttr(c[b])},getCaret:function(a){if(a.selectionStart)return a.selectionStart;if(b.selection){a.focus();var c=b.selection.createRange();if(null==c)return 0;var d=a.createTextRange(),e=d.duplicate();return d.moveToBookmark(c.getBookmark()),e.setEndPoint("EndToStart",d),e.text.length}return 0},executeCallback:function(b,d){if(!b)return!1;var e,f=d[0];if("function"==typeof b)e=b;else if("string"==typeof b||b instanceof Array){e=a,"string"==typeof b&&(b=[b,[]]);for(var g=b[0].split("."),h=b[1],i=!0,k=0;k<g.length;){if("undefined"==typeof e){i=!1;break}e=e[g[k++]]}if(!i||"function"!=typeof e)return j.log({node:f.selector,"function":"executeCallback()",arguments:JSON.stringify(b),message:'WARNING - Invalid callback function"'}),j.print(),!1}return e.apply(this,c.merge(h||[],d?d:[])),!0},typeWatch:function(){var a=0;return function(b,c){clearTimeout(a),a=setTimeout(b,c)}}()}},c.fn.typeahead=c.typeahead=function(a){return i.typeahead(this,a)};var i={typeahead:function(b,d){if(!d||!d.source||"object"!=typeof d.source)return j.log({node:b.selector||d&&d.input,"function":"$.typeahead()",arguments:JSON.stringify(d&&d.source||""),message:'Undefined "options" or "options.source" or invalid source type - Typeahead dropped'}),void j.print();if("function"==typeof b){if(!d.input)return j.log({node:b.selector,"function":"$.typeahead()",arguments:JSON.stringify(d),message:'Undefined "options.input" - Typeahead dropped'}),void j.print();b=c(d.input)}return 1!==b.length?(j.log({node:b.selector,"function":"$.typeahead()",arguments:JSON.stringify(d.input),message:"Unable to find jQuery input element OR more than 1 input is found - Typeahead dropped"}),void j.print()):a.Typeahead[b.selector]=new h(b,d)}},j={table:{},log:function(a){a.message&&"string"==typeof a.message&&(this.table[a.message]=c.extend({node:"","function":"",arguments:""},a))},print:function(){!h.prototype.helper.isEmpty(this.table)&&console&&console.table&&((console.group!==d||console.table!==d)&&(console.groupCollapsed("--- jQuery Typeahead Debug ---"),console.table(this.table),console.groupEnd()),this.table={})}};"trim"in String.prototype||(String.prototype.trim=function(){return this.replace(/^\s+/,"").replace(/\s+$/,"")}),"indexOf"in Array.prototype||(Array.prototype.indexOf=function(a,b){b===d&&(b=0),0>b&&(b+=this.length),0>b&&(b=0);for(var c=this.length;c>b;b++)if(b in this&&this[b]===a)return b;return-1})}(window,document,window.jQuery);